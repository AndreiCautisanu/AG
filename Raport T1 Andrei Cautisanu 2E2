# Găsirea minimului a 4 funcții de optimizare folosind algoritmi tip traiectorie

-- Andrei Căutișanu, 2E2
-- Tema T1

---

### Despre experiment
Prin acest experiment vom testa performanța algoritmilor Best Improvement Hill Climbing, First Improvement Hill Climbing și Simulated Annealing căutând minimul funcțiilor de optimizare Rastrigin, Ackley, Dixon-Price și Rosenbrock. De asemenea, vom observa rata de scădere a acurateții rezultatului pe măsură ce creștem numărul de parametri ai funcției. 

---

## Algoritmii utilizați

#### HILL CLIMBING

Tehnica de optimizare **hill climbing** realizează o căutare locală, începând cu o soluție aleatorie, apoi făcând o schimbare incrementală soluției pentru a o îmbunătăți. Algoritmul continuă să realizeze schimbări incrementale până când nu mai poate îmbunătăți soluția.

În cazul nostru, algoritmul generează un set de parametri aleatoriu ca prima soluție, apoi caută în vecinătatea acesteia (descrisă în secțiunea "Implementare") o soluție mai bună. Dacă aceasta este găsită, va fi considerată noua soluție, acest procedeu continuând până când nu se poate găsi o soluție mai bună în vecinătatea celei curente. 

- **First Improvement Hill Climbing** va evalua soluțiile din vecinătate până când o găsește pe prima care îmbunătățește rezultatul, selectând-o și oprind evaluarea vecinătății
- **Best Improvement (Steepest Ascent) Hill Climbing** va evalua toate soluțiile din vecinătate și o va selecta pe cea care se apropie cel mai mult de rezultatul dorit (în cazul nostru, setul de parametri care rezultă în cea mai mică valoare a funcției)

În cazul particular al acestui experiment, când în vecinătatea soluției curente nu se găsește una mai bună, algoritmul a ajuns într-un minim local din care nu mai poate ieși. De aceea, vom folosi varianta iterată a Hill Climbing, cu care vom restarta procedeul de fiecare dată când ajungem într-un minim local, astfel găsind mai multe minime locale și parcurgând un spațiu mai mare în funcție.

### SIMULATED ANNEALING
Simulated Annealing este o metodă de aproximare a optimului global care permite ieșirea din optimul local prin acceptarea unor soluții de calitate mai slabă. Probabilitatea acceptării unei soluții de calitate mai slabă este mai mare la începutul executării și scade pe măsură ce programul selectează mai multe soluții.

La începutul programului se inițializează coeficientul de "temperatură" care va scădea pe parcursul rulării (în cazul experimentului de față, am folosit temperatura inițială 100 care scade cu o rată de 5%). În fiecare pas, algoritmul va selecta aleatoriu un vecin al soluției curente. Dacă calitatea acesteia este mai bună (în cazul nostru, valoarea funcției în vecin este mai mică), funcția o va accepta ca o nouă soluție. În caz contrar, algoritmul va accepta noua soluție cu o probabilitate P sau va rămâne în soluția curentă cu o probabilitate 1-P, unde P este definit ca:

P = exp(--(calitatea soluției vecine -- calitatea soluției curente) / Temperatura)

Astfel, probabilitatea selectării unei soluții mai slabe este direct proporțională cu calitatea relativă față de soluția curentă și cu temperatura curentă a algoritmului. Pe măsură ce sunt selectate mai multe soluții, va scădea probabilitatea de a trece într-o soluție mai slabă. În timp ce Hill Climbing va rămâne mereu blocat într-un punct de optim local, Simulated Annealing va avea o șansă de a ieși din acel punct pentru a căuta mai multe soluții și având șanse mai mari de a găsi optimul global.

---

## Implementare

Vom genera soluțiile ca șiruri de biți pe care le vom mapa în intervalul corespunzător domeniului funcției. Pentru a genera un număr într-un interval [a,b] cu precizie de Z zecimale vom avea nevoie de un număr de biți egal cu partea întreagă superioară a numărului log2(10^Z^ * (b-a)). Algoritmul lucrează cu generare cu o precizie de 4 zecimale, deci pentru domeniul de definiție al funcției Ackley  [-32.768, 32.768] va genera un șir de lungime L = 20 de biți ca parametru.

Deci, pentru a genera un anumit număr *d* de parametri, trebuie doar să generăm un șir de biți aleatorii de lungime *L* \* *d*.

**Vecinătatea** soluției curente va fi alcătuită din toate șirurile de biți care au distanța Hamming față de aceasta egală cu 1. Spre exemplu, vecinătatea soluției [101101] va fi mulțimea {[001101], [111101], [100101], [101001], [101111], [101100]}


---

## Rezultatele experimentului

- ### FUNCȚIA RASTRIGIN

    ![](https://www.sfu.ca/~ssurjano/rastr2.png)

    Minimul global al funcției este 0, când toți parametrii au valoarea 0.
    
    x~i~ ∈ [-5.12, 5.12], pentru i = 1, ..., d

    Graficul funcției cu 2 parametri:
    
    ![](https://www.sfu.ca/~ssurjano/rastr.png)
    
---
    
    
- **RASTRIGIN 2 PARAMETRI**
    
 | Metoda | Nr. iteratii | Solutia minima | Solutia maxima | Media solutiilor | Deviatia standard |
|:----------------------------------:|:------------:|:--------------:|:--------------:|:----------------:|:-----------------:|
| HILL CLIMBING  (best improvement) x30 | 100 | 3.027e-06 | 3.027e-06 | 3.027e-06 | 0 |
| HILL CLIMBING  (first improvement) x30 | 100 | 6.054538e-07 | 2.240179e-05 | 4.076722e-06 | 4.572274e-06 |
| SIMULATED ANNEALING | 10000 | 6.054538e-07 | 15.92933 | 4.579159 | 3.202226 |

![](https://i.imgur.com/myTFWiB.png)
![](https://i.imgur.com/Ao1xkbi.png)
---
- **RASTRIGIN 5 PARAMETRI**

| Metoda | Nr. iteratii | Solutia minima | Solutia maxima | Media solutiilor | Deviatia standard |
|:--------------------------------------:|:------------:|:--------------:|:--------------:|:----------------:|:-----------------:|
| HILL CLIMBING  (best improvement) x30 | 100 | 3.93545e-06 | 4.985067 | 2.245943 | 1.070562 |
| HILL CLIMBING  (first improvement) x30 | 100 | 3.057541e-05 | 2.990033 | 2.01848 | 0.5777003 |
| SIMULATED ANNEALING | 10000 | 1.320564 | 41.92923 | 14.3618 | 6.579299 |

![](https://i.imgur.com/eWQxDzS.png)
![](https://i.imgur.com/12mlU2N.png)
![](https://i.imgur.com/8Rkgu1G.png)

---

- **RASTRIGIN 30 PARAMETRI**

| Metoda | Nr. iteratii | Solutia minima | Solutia maxima | Media solutiilor | Deviatia standard |
|:--------------------------------------:|:------------:|:--------------:|:--------------:|:----------------:|:-----------------:|
| HILL CLIMBING  (best improvement) x30 | 25 | 210 | 234 | 226.5667 | 5.110391 |
| HILL CLIMBING  (first improvement) x30 | 25 | 38.862 | 61.904 | 48.97647 | 5.711071 |
| SIMULATED ANNEALING | 5000 | 137.9132 | 384.1236 | 244.4421 | 38.18492 |

![](https://i.imgur.com/n3r0TJg.png)
![](https://i.imgur.com/2f6iQB1.png)
![](https://i.imgur.com/UDsbvjD.png)

---

- ### FUNCȚIA ACKLEY

    ![](https://www.sfu.ca/~ssurjano/ackley2.png)

    Valorile folosite sunt a=20, b=0.2, c=2π
    
    Minimul global al funcției este 0, când toți parametrii au valoarea 0
    
    x~i~ ∈ [-32.768, 32.768], pentru i = 1, ..., d

    Graficul funcției cu 2 parametri:
    
    ![](https://www.sfu.ca/~ssurjano/ackley.png)

---

-- **ACKLEY 2 PARAMETRI**

